<!doctype html>
<html lang="es">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sistema de Citas Bancarias - DEMO</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      height: 100%;
      overflow-x: hidden;
    }

    * {
      box-sizing: border-box;
    }

    .demo-banner {
      background: #ff6b6b;
      color: white;
      text-align: center;
      padding: 12px;
      font-weight: bold;
      font-size: 14px;
      position: sticky;
      top: 0;
      z-index: 1000;
      box-shadow: 0 2px 8px rgba(0,0,0,0.15);
    }

    .app-container {
      width: 100%;
      min-height: 100%;
      background: #f5f7fa;
      padding: 0;
    }

    .screen {
      display: none;
      width: 100%;
      min-height: 100%;
      background: white;
      animation: fadeIn 0.3s ease-in;
    }

    .screen.active {
      display: block;
    }
    
    .inner-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 20px;
    }
    
    .narrow-container {
      max-width: 500px;
      margin: 0 auto;
      padding: 40px 20px;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .logo {
      text-align: center;
      margin-bottom: 32px;
    }

    .logo-icon {
      font-size: 64px;
      margin-bottom: 16px;
    }

    h1 {
      color: #2d3748;
      font-size: 28px;
      margin: 0 0 8px 0;
      text-align: center;
    }

    h2 {
      color: #2d3748;
      font-size: 24px;
      margin: 0 0 24px 0;
      text-align: center;
    }

    .subtitle {
      color: #718096;
      text-align: center;
      margin-bottom: 32px;
      font-size: 14px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    label {
      display: block;
      color: #4a5568;
      font-weight: 600;
      margin-bottom: 8px;
      font-size: 14px;
    }

    input[type="text"],
    input[type="password"],
    input[type="number"],
    select {
      width: 100%;
      padding: 12px 16px;
      border: 2px solid #e2e8f0;
      border-radius: 8px;
      font-size: 16px;
      transition: border-color 0.3s;
      font-family: inherit;
    }

    input[type="text"]:focus,
    input[type="password"]:focus,
    input[type="number"]:focus,
    select:focus {
      outline: none;
      border-color: #667eea;
    }

    .btn {
      width: 100%;
      padding: 14px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      font-family: inherit;
    }

    .btn-primary {
      background: #667eea;
      color: white;
      margin-top: 8px;
    }

    .btn-primary:hover {
      background: #5568d3;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    }

    .btn-secondary {
      background: #e2e8f0;
      color: #4a5568;
      margin-top: 12px;
    }

    .btn-secondary:hover {
      background: #cbd5e0;
    }

    .link-btn {
      text-align: center;
      margin-top: 16px;
    }

    .link-btn a {
      color: #667eea;
      text-decoration: none;
      font-size: 14px;
      cursor: pointer;
    }

    .link-btn a:hover {
      text-decoration: underline;
    }

    .bank-card {
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 16px;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .bank-card:hover {
      border-color: #667eea;
      background: #f7fafc;
      transform: translateX(4px);
    }

    .bank-icon {
      font-size: 40px;
    }

    .bank-info h3 {
      margin: 0 0 4px 0;
      color: #2d3748;
      font-size: 18px;
    }

    .bank-info p {
      margin: 0;
      color: #718096;
      font-size: 13px;
    }

    .service-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-bottom: 24px;
    }

    .service-card {
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
    }

    .service-card:hover {
      border-color: #667eea;
      background: #f7fafc;
    }

    .service-card.selected {
      border-color: #667eea;
      background: #eef2ff;
    }

    .service-icon {
      font-size: 32px;
      margin-bottom: 8px;
    }

    .service-name {
      color: #2d3748;
      font-size: 14px;
      font-weight: 600;
    }

    .time-slot {
      display: inline-block;
      padding: 10px 20px;
      border: 2px solid #e2e8f0;
      border-radius: 8px;
      margin: 6px;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 14px;
    }

    .time-slot:hover {
      border-color: #667eea;
      background: #f7fafc;
    }

    .time-slot.selected {
      border-color: #667eea;
      background: #667eea;
      color: white;
    }

    .summary-section {
      background: #f7fafc;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 24px;
    }

    .summary-item {
      display: flex;
      justify-content: space-between;
      padding: 12px 0;
      border-bottom: 1px solid #e2e8f0;
    }

    .summary-item:last-child {
      border-bottom: none;
    }

    .summary-label {
      color: #718096;
      font-size: 14px;
    }

    .summary-value {
      color: #2d3748;
      font-weight: 600;
      font-size: 14px;
    }

    .success-icon {
      font-size: 80px;
      text-align: center;
      margin-bottom: 24px;
    }

    .confirmation-code {
      background: #eef2ff;
      border: 2px dashed #667eea;
      border-radius: 8px;
      padding: 16px;
      text-align: center;
      margin: 24px 0;
    }

    .confirmation-code-label {
      color: #718096;
      font-size: 12px;
      margin-bottom: 8px;
    }

    .confirmation-code-value {
      color: #667eea;
      font-size: 24px;
      font-weight: bold;
      letter-spacing: 2px;
    }

    .checkbox-group {
      display: flex;
      align-items: center;
      gap: 8px;
      margin: 16px 0;
    }

    .checkbox-group input[type="checkbox"] {
      width: 20px;
      height: 20px;
      cursor: pointer;
    }

    .checkbox-group label {
      margin: 0;
      cursor: pointer;
      font-weight: normal;
    }

    .time-slots-container {
      margin: 20px 0;
      text-align: center;
    }

    .dashboard-header {
      text-align: center;
      margin-bottom: 24px;
    }

    .dashboard-banner {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border-radius: 16px;
      padding: 24px;
      text-align: center;
      margin-bottom: 24px;
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
    }

    .banner-icon {
      font-size: 48px;
      margin-bottom: 12px;
    }

    .dashboard-banner h3 {
      color: white;
      margin: 0 0 4px 0;
      font-size: 24px;
    }

    .dashboard-banner p {
      color: rgba(255, 255, 255, 0.9);
      margin: 0;
      font-size: 14px;
    }

    .menu-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
    }

    .menu-card {
      background: #f7fafc;
      border: 2px solid #e2e8f0;
      border-radius: 16px;
      padding: 24px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
    }

    .menu-card:hover {
      border-color: #667eea;
      background: white;
      transform: translateY(-4px);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
    }

    .menu-icon {
      font-size: 48px;
      margin-bottom: 12px;
    }

    .menu-card h3 {
      color: #2d3748;
      font-size: 16px;
      margin: 0 0 8px 0;
    }

    .menu-card p {
      color: #718096;
      font-size: 13px;
      margin: 0;
    }

    /* Navigation */
    .navbar {
      background: white;
      box-shadow: 0 2px 4px rgba(0,0,0,0.08);
      padding: 16px 0;
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    .navbar-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .navbar-brand {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 24px;
      font-weight: bold;
      color: #2d3748;
    }
    
    .navbar-brand span {
      font-size: 32px;
    }

    /* Landing Page Styles */
    .landing-hero {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 80px 32px;
      text-align: center;
      color: white;
    }

    .hero-icon {
      font-size: 80px;
      margin-bottom: 16px;
      animation: float 3s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    .hero-title {
      color: white;
      font-size: 36px;
      margin: 0 0 12px 0;
    }

    .hero-subtitle {
      color: rgba(255, 255, 255, 0.9);
      font-size: 16px;
      margin: 0 0 24px 0;
    }

    .landing-section {
      padding: 60px 20px;
    }
    
    .landing-section.gray-bg {
      background: #f5f7fa;
    }

    .section-title {
      color: #2d3748;
      font-size: 32px;
      text-align: center;
      margin: 0 0 48px 0;
      font-weight: bold;
    }

    .services-showcase {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 32px;
      max-width: 1000px;
      margin: 0 auto;
    }

    .showcase-card {
      background: white;
      border-radius: 16px;
      padding: 40px 32px;
      text-align: center;
      transition: all 0.3s;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }

    .showcase-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 24px rgba(0,0,0,0.12);
    }

    .showcase-icon {
      font-size: 64px;
      margin-bottom: 20px;
    }

    .showcase-card h3 {
      color: #2d3748;
      font-size: 22px;
      margin: 0 0 12px 0;
      font-weight: bold;
    }

    .showcase-card p {
      color: #718096;
      font-size: 15px;
      margin: 0;
      line-height: 1.6;
    }

    .about-content {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 32px;
      max-width: 1000px;
      margin: 0 auto;
    }

    .about-card {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      background: white;
      padding: 40px 32px;
      border-radius: 16px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      transition: all 0.3s;
    }
    
    .about-card:hover {
      box-shadow: 0 8px 16px rgba(0,0,0,0.12);
    }

    .about-icon {
      font-size: 56px;
      margin-bottom: 20px;
    }

    .about-text h3 {
      color: #2d3748;
      font-size: 20px;
      margin: 0 0 12px 0;
      font-weight: bold;
    }

    .about-text p {
      color: #718096;
      font-size: 15px;
      margin: 0;
      line-height: 1.6;
    }

    .steps-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 40px;
      max-width: 900px;
      margin: 0 auto;
    }

    .step-card {
      background: white;
      border-radius: 16px;
      padding: 40px 32px;
      text-align: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      transition: all 0.3s;
    }
    
    .step-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 16px rgba(0,0,0,0.12);
    }

    .step-number {
      width: 64px;
      height: 64px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      font-weight: bold;
      margin: 0 auto 20px;
    }

    .step-card h3 {
      color: #2d3748;
      font-size: 20px;
      margin: 0 0 12px 0;
      font-weight: bold;
    }

    .step-card p {
      color: #718096;
      font-size: 15px;
      margin: 0;
      line-height: 1.6;
    }

    .landing-footer {
      background: #2d3748;
      color: white;
      padding: 48px 20px 32px;
      margin-top: 0;
    }
    
    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      text-align: center;
    }
    
    .footer-content h3 {
      font-size: 24px;
      margin: 0 0 20px 0;
      color: white;
    }

    .landing-footer p {
      margin: 8px 0;
      color: rgba(255, 255, 255, 0.8);
      font-size: 15px;
    }

    /* Modal Overlay */
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 2000;
      align-items: center;
      justify-content: center;
    }

    .modal-overlay.active {
      display: flex;
    }

    .modal-content {
      background: white;
      border-radius: 16px;
      padding: 32px;
      max-width: 400px;
      margin: 20px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      text-align: center;
      animation: modalSlideIn 0.3s ease-out;
    }

    @keyframes modalSlideIn {
      from {
        opacity: 0;
        transform: translateY(-30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .modal-icon {
      font-size: 64px;
      margin-bottom: 16px;
    }

    .modal-content h3 {
      color: #2d3748;
      font-size: 24px;
      margin: 0 0 12px 0;
    }

    .modal-content p {
      color: #718096;
      font-size: 15px;
      line-height: 1.6;
      margin: 0 0 24px 0;
    }

    .modal-buttons {
      display: flex;
      gap: 12px;
    }

    .showcase-card {
      cursor: pointer;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body><!-- Modal de Inicio de Sesi√≥n -->
  <div id="loginModal" class="modal-overlay">
   <div class="modal-content">
    <div class="modal-icon">
     üîê
    </div>
    <h3>Inicia Sesi√≥n</h3>
    <p>Para acceder a este servicio, primero debes iniciar sesi√≥n en tu cuenta.</p>
    <div class="modal-buttons"><button class="btn btn-primary" style="margin: 0;" onclick="closeModalAndLogin()">Iniciar Sesi√≥n</button> <button class="btn btn-secondary" style="margin: 0;" onclick="closeModal()">Cancelar</button>
    </div>
   </div>
  </div>
  <div class="app-container"><!-- Landing Page -->
   <div id="landingScreen" class="screen active">
    <nav class="navbar">
     <div class="navbar-content">
      <div class="navbar-brand" style="cursor: pointer;" onclick="handleNavbarClick()"><span>üè¶</span>
       <div id="heroTitle">
        Banamex Toluca
       </div>
      </div><button id="navbarButton" class="btn btn-primary" style="width: auto; padding: 12px 32px; margin: 0;" onclick="handleNavbarButtonClick()">Iniciar Sesi√≥n</button>
     </div>
    </nav>
    <div class="landing-hero">
     <div class="hero-content">
      <div class="hero-icon">
       üè¶
      </div>
      <h1 class="hero-title">Tu banco de confianza</h1>
      <p class="hero-subtitle">Agenda tus citas bancarias de manera r√°pida, f√°cil y segura</p>
     </div>
    </div>
    <div class="landing-section">
     <div class="inner-container">
      <h2 class="section-title">Nuestros Servicios</h2>
      <div class="services-showcase">
       <div class="showcase-card" onclick="showLoginPrompt()">
        <div class="showcase-icon">
         üìÖ
        </div>
        <h3>Citas en L√≠nea</h3>
        <p>Agenda tu cita de manera r√°pida y sencilla desde cualquier lugar</p>
       </div>
       <div class="showcase-card" onclick="showLoginPrompt()">
        <div class="showcase-icon">
         üí≥
        </div>
        <h3>Tr√°mites Bancarios</h3>
        <p>Aclaraciones, pagos, dep√≥sitos, pr√©stamos y m√°s servicios</p>
       </div>
       <div class="showcase-card" onclick="showLoginPrompt()">
        <div class="showcase-icon">
         üöó
        </div>
        <h3>Transporte Incluido</h3>
        <p>Solicita un chofer para que te lleve a tu cita de forma segura</p>
       </div>
      </div>
     </div>
    </div>
    <div class="landing-section gray-bg">
     <div class="inner-container">
      <h2 class="section-title">Acerca de Nosotros</h2>
      <div class="about-content">
       <div class="about-card">
        <div class="about-icon">
         üè¢
        </div>
        <div class="about-text">
         <h3>Sucursales en Toluca</h3>
         <p>Contamos con 3 sucursales estrat√©gicamente ubicadas en Toluca para brindarte el mejor servicio: Centro, Metepec y Lerma.</p>
        </div>
       </div>
       <div class="about-card">
        <div class="about-icon">
         ‚≠ê
        </div>
        <div class="about-text">
         <h3>Atenci√≥n Personalizada</h3>
         <p>Nuestro personal capacitado est√° listo para atenderte con profesionalismo y calidez en cada una de tus visitas.</p>
        </div>
       </div>
       <div class="about-card">
        <div class="about-icon">
         üïê
        </div>
        <div class="about-text">
         <h3>Horarios Flexibles</h3>
         <p>Agenda tu cita en el horario que mejor se adapte a tus necesidades, de 9:00 AM a 5:00 PM.</p>
        </div>
       </div>
      </div>
     </div>
    </div>
    <div class="landing-section">
     <div class="inner-container">
      <h2 class="section-title">¬øC√≥mo Funciona?</h2>
      <div class="steps-container">
       <div class="step-card">
        <div class="step-number">
         1
        </div>
        <h3>Reg√≠strate</h3>
        <p>Crea tu cuenta en segundos con tus datos b√°sicos</p>
       </div>
       <div class="step-card">
        <div class="step-number">
         2
        </div>
        <h3>Agenda tu Cita</h3>
        <p>Selecciona sucursal, fecha, hora y tipo de tr√°mite</p>
       </div>
       <div class="step-card">
        <div class="step-number">
         3
        </div>
        <h3>Asiste a tu Cita</h3>
        <p>Llega a tiempo con tu c√≥digo de confirmaci√≥n</p>
       </div>
      </div>
     </div>
    </div>
    <div class="landing-footer">
     <div class="footer-content">
      <h3>Banamex Toluca</h3>
      <p>¬© 2024 Sistema de Citas Bancarias</p>
      <p>üìû Contacto: 722-123-4567 | üìß info@banamextoluca.com</p>
     </div>
    </div>
   </div><!-- Login Screen -->
   <div id="loginScreen" class="screen">
    <div class="narrow-container">
     <div class="logo">
      <div class="logo-icon">
       üè¶
      </div>
      <h1 id="appTitle">Sistema de Citas Bancarias</h1>
      <p class="subtitle" id="welcomeMessage">Bienvenido a tu sistema de citas</p>
     </div>
     <div class="form-group"><label for="loginUsername">Usuario</label> <input type="text" id="loginUsername" placeholder="usuario_demo">
     </div>
     <div class="form-group"><label for="loginPassword">Contrase√±a</label> <input type="password" id="loginPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
     </div><button class="btn btn-primary" onclick="handleLogin()">Iniciar Sesi√≥n</button>
     <div class="link-btn"><a onclick="showScreen('registerScreen')">¬øNo tienes cuenta? Reg√≠strate</a>
     </div>
    </div>
   </div><!-- Register Screen -->
   <div id="registerScreen" class="screen">
    <div class="narrow-container">
     <h2>Registro</h2>
     <div class="form-group"><label for="regName">Nombre completo</label> <input type="text" id="regName" placeholder="Juan P√©rez">
     </div>
     <div class="form-group"><label for="regUsername">Usuario</label> <input type="text" id="regUsername" placeholder="juanperez">
     </div>
     <div class="form-group"><label for="regPassword">Contrase√±a</label> <input type="password" id="regPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
     </div>
     <div class="form-group"><label for="regAge">Edad</label> <input type="number" id="regAge" placeholder="25">
     </div>
     <div class="form-group"><label for="regGender">Sexo</label> <select id="regGender"> <option value="">Seleccionar</option> <option value="masculino">Masculino</option> <option value="femenino">Femenino</option> <option value="otro">Otro</option> </select>
     </div>
     <div class="form-group"><label for="regDisability">¬øTiene alguna discapacidad?</label> <select id="regDisability"> <option value="ninguna">Ninguna</option> <option value="visual">Visual</option> <option value="auditiva">Auditiva</option> <option value="motriz">Motriz</option> <option value="otra">Otra</option> </select>
     </div><button class="btn btn-primary" onclick="handleRegister()">Registrarse</button> <button class="btn btn-secondary" onclick="showScreen('loginScreen')">Volver</button>
    </div>
   </div><!-- Main Dashboard -->
   <div id="dashboardScreen" class="screen">
    <div class="narrow-container">
     <div class="dashboard-header">
      <h2>Bienvenido</h2>
      <p class="subtitle">Hola, <span id="userName">Usuario</span> üëã</p>
     </div>
     <div class="dashboard-banner">
      <div class="banner-icon">
       üè¶
      </div>
      <h3 id="bankNameDisplay">Banamex</h3>
      <p>Tu banco de confianza</p>
     </div>
     <div class="menu-grid">
      <div class="menu-card" onclick="startAppointment()">
       <div class="menu-icon">
        üìÖ
       </div>
       <h3>Agendar Cita</h3>
       <p>Reserva tu cita en sucursal</p>
      </div>
      <div class="menu-card" onclick="showScreen('accountScreen')">
       <div class="menu-icon">
        üë§
       </div>
       <h3>Mi Cuenta</h3>
       <p>Ver informaci√≥n personal</p>
      </div>
      <div class="menu-card" onclick="showScreen('helpScreen')">
       <div class="menu-icon">
        ‚ùì
       </div>
       <h3>Ayuda</h3>
       <p>Preguntas frecuentes</p>
      </div>
      <div class="menu-card" onclick="handleLogout()">
       <div class="menu-icon">
        üö™
       </div>
       <h3>Cerrar Sesi√≥n</h3>
       <p>Salir de la aplicaci√≥n</p>
      </div>
     </div>
    </div>
   </div><!-- Account Screen -->
   <div id="accountScreen" class="screen">
    <div class="narrow-container">
     <h2>Mi Cuenta</h2>
     <div class="summary-section">
      <div class="summary-item"><span class="summary-label">Nombre:</span> <span class="summary-value" id="accountName">-</span>
      </div>
      <div class="summary-item"><span class="summary-label">Edad:</span> <span class="summary-value" id="accountAge">-</span>
      </div>
     </div><button class="btn btn-secondary" onclick="showScreen('dashboardScreen')">Volver al Men√∫</button>
    </div>
   </div><!-- Help Screen -->
   <div id="helpScreen" class="screen">
    <div class="narrow-container">
     <h2>Ayuda</h2>
     <div class="summary-section">
      <h3 style="margin-top: 0;">¬øC√≥mo agendar una cita?</h3>
      <p style="color: #718096; font-size: 14px; line-height: 1.6;">1. Selecciona "Agendar Cita" desde el men√∫<br>
        2. Elige sucursal y fecha<br>
        3. Selecciona el tipo de tr√°mite<br>
        4. Elige tu horario preferido<br>
        5. Confirma tu cita</p>
     </div><button class="btn btn-secondary" onclick="showScreen('dashboardScreen')">Volver al Men√∫</button>
    </div>
   </div><!-- Location & Date -->
   <div id="locationDateScreen" class="screen">
    <div class="narrow-container">
     <h2>Ubicaci√≥n y Fecha</h2>
     <p class="subtitle">Selecciona sucursal y fecha de tu cita</p>
     <div class="form-group"><label for="branchSelect">Sucursal</label> <select id="branchSelect"> <option value="">Seleccionar sucursal</option> <option value="centro">Centro de Toluca - Av. Hidalgo 305</option> <option value="metepec">Metepec - Plaza Sendero</option> <option value="lerma">Lerma - Paseo Tollocan</option> </select>
     </div>
     <div class="form-group"><label for="dateSelect">Fecha</label> <input type="text" id="dateSelect" placeholder="Seleccione una fecha" value="">
     </div><button class="btn btn-primary" onclick="showScreen('serviceScreen')">Continuar</button> <button class="btn btn-secondary" onclick="showScreen('bankSelectionScreen')">Volver</button>
    </div>
   </div><!-- Service Selection -->
   <div id="serviceScreen" class="screen">
    <div class="narrow-container">
     <h2>Tipo de Tr√°mite</h2>
     <p class="subtitle">Selecciona el servicio que necesitas</p>
     <div class="service-grid">
      <div class="service-card" onclick="selectService('aclaracion', 'üí¨', 15)">
       <div class="service-icon">
        üí¨
       </div>
       <div class="service-name">
        Aclaraci√≥n
       </div>
      </div>
      <div class="service-card" onclick="selectService('pagos', 'üí≥', 10)">
       <div class="service-icon">
        üí≥
       </div>
       <div class="service-name">
        Pagos
       </div>
      </div>
      <div class="service-card" onclick="selectService('prestamos', 'üí∞', 30)">
       <div class="service-icon">
        üí∞
       </div>
       <div class="service-name">
        Pr√©stamos
       </div>
      </div>
      <div class="service-card" onclick="selectService('depositos', 'üíµ', 10)">
       <div class="service-icon">
        üíµ
       </div>
       <div class="service-name">
        Dep√≥sitos
       </div>
      </div>
      <div class="service-card" onclick="selectService('quejas', 'üìù', 20)">
       <div class="service-icon">
        üìù
       </div>
       <div class="service-name">
        Quejas
       </div>
      </div>
      <div class="service-card" onclick="selectService('cheques', 'üìÑ', 15)">
       <div class="service-icon">
        üìÑ
       </div>
       <div class="service-name">
        Cheques
       </div>
      </div>
     </div><button class="btn btn-secondary" onclick="showScreen('locationDateScreen')">Volver</button>
    </div>
   </div><!-- Time Selection -->
   <div id="timeScreen" class="screen">
    <div class="narrow-container">
     <h2>Seleccionar Horario</h2>
     <p class="subtitle">Tiempo estimado: <span id="estimatedTime">15</span> minutos</p>
     <div class="time-slots-container">
      <div class="time-slot" onclick="selectTime('09:00')">
       09:00
      </div>
      <div class="time-slot" onclick="selectTime('09:30')">
       09:30
      </div>
      <div class="time-slot" onclick="selectTime('10:00')">
       10:00
      </div>
      <div class="time-slot" onclick="selectTime('10:30')">
       10:30
      </div>
      <div class="time-slot" onclick="selectTime('11:00')">
       11:00
      </div>
      <div class="time-slot" onclick="selectTime('11:30')">
       11:30
      </div>
      <div class="time-slot" onclick="selectTime('12:00')">
       12:00
      </div>
      <div class="time-slot" onclick="selectTime('12:30')">
       12:30
      </div>
      <div class="time-slot" onclick="selectTime('14:00')">
       14:00
      </div>
      <div class="time-slot" onclick="selectTime('14:30')">
       14:30
      </div>
      <div class="time-slot" onclick="selectTime('15:00')">
       15:00
      </div>
      <div class="time-slot" onclick="selectTime('15:30')">
       15:30
      </div>
      <div class="time-slot" onclick="selectTime('16:00')">
       16:00
      </div>
      <div class="time-slot" onclick="selectTime('16:30')">
       16:30
      </div>
     </div>
     <div class="checkbox-group"><input type="checkbox" id="needsDriver"> <label for="needsDriver">Requiero chofer o ayuda externa</label>
     </div><button class="btn btn-primary" onclick="showSummary()">Continuar</button> <button class="btn btn-secondary" onclick="showScreen('serviceScreen')">Volver</button>
    </div>
   </div><!-- Summary & Confirmation -->
   <div id="summaryScreen" class="screen">
    <div class="narrow-container">
     <h2>Confirmar Cita</h2>
     <p class="subtitle">Revisa los detalles de tu cita</p>
     <div class="summary-section">
      <div class="summary-item"><span class="summary-label">Banco:</span> <span class="summary-value" id="summaryBank">-</span>
      </div>
      <div class="summary-item"><span class="summary-label">Sucursal:</span> <span class="summary-value" id="summaryBranch">-</span>
      </div>
      <div class="summary-item"><span class="summary-label">Fecha:</span> <span class="summary-value" id="summaryDate">-</span>
      </div>
      <div class="summary-item"><span class="summary-label">Hora:</span> <span class="summary-value" id="summaryTime">-</span>
      </div>
      <div class="summary-item"><span class="summary-label">Tr√°mite:</span> <span class="summary-value" id="summaryService">-</span>
      </div>
      <div class="summary-item"><span class="summary-label">Duraci√≥n estimada:</span> <span class="summary-value" id="summaryDuration">-</span>
      </div>
      <div class="summary-item"><span class="summary-label">Ayuda externa:</span> <span class="summary-value" id="summaryHelp">-</span>
      </div>
     </div><button class="btn btn-primary" onclick="confirmAppointment()">Confirmar Cita</button> <button class="btn btn-secondary" onclick="showScreen('timeScreen')">Volver</button>
    </div>
   </div><!-- Success Screen -->
   <div id="successScreen" class="screen">
    <div class="narrow-container">
     <div class="success-icon">
      ‚úÖ
     </div>
     <h2>¬°Cita Confirmada!</h2>
     <p class="subtitle">Tu cita est√° agendada para:</p>
     <div class="summary-section">
      <div class="summary-item"><span class="summary-label">üìÖ Fecha:</span> <span class="summary-value" id="confirmDate">-</span>
      </div>
      <div class="summary-item"><span class="summary-label">üïê Hora:</span> <span class="summary-value" id="confirmTime">-</span>
      </div>
      <div class="summary-item"><span class="summary-label">üìç Sucursal:</span> <span class="summary-value" id="confirmBranch">-</span>
      </div>
     </div><button class="btn btn-primary" onclick="showScreen('dashboardScreen')">Volver al Men√∫ Principal</button> <button class="btn btn-secondary" onclick="showDriverScreen()">üöó Solicitar Chofer</button>
    </div>
   </div><!-- Driver Request Screen -->
   <div id="driverScreen" class="screen">
    <div class="narrow-container">
     <h2>Solicitar Chofer</h2>
     <p class="subtitle">Ingresa tu ubicaci√≥n para que te recojan</p>
     <div class="form-group"><label for="userAddress">Direcci√≥n de recogida</label> <input type="text" id="userAddress" placeholder="Ej: Av. Morelos 123, Col. Centro, Toluca">
     </div><button class="btn btn-primary" onclick="confirmDriver()">Solicitar Chofer</button> <button class="btn btn-secondary" onclick="showScreen('successScreen')">Volver</button>
    </div>
   </div><!-- Driver Confirmation Screen -->
   <div id="driverConfirmScreen" class="screen">
    <div class="narrow-container">
     <div class="success-icon">
      üöó
     </div>
     <h2>¬°Chofer en Camino!</h2>
     <p class="subtitle">Tu chofer llegar√° en aproximadamente 10 minutos</p>
     <div class="summary-section">
      <div class="summary-item"><span class="summary-label">üìç Ubicaci√≥n de recogida:</span>
      </div>
      <div style="color: #2d3748; font-weight: 600; margin-top: 8px; padding: 0 16px;"><span id="driverAddress">-</span>
      </div>
     </div>
     <div class="summary-section" style="margin-top: 16px;">
      <p style="color: #718096; font-size: 14px; margin: 0; line-height: 1.6;">üöó Tu chofer est√° en camino<br>
        üì± Recibir√°s una notificaci√≥n cuando llegue<br>
        ‚è∞ Tiempo estimado: 10 minutos</p>
     </div><button class="btn btn-primary" onclick="showScreen('dashboardScreen')">Volver al Men√∫ Principal</button>
    </div>
   </div>
  </div>
  <script>
    const defaultConfig = {
      app_title: "Sistema de Citas Bancarias",
      welcome_message: "Bienvenido a tu sistema de citas",
      bank_name: "Banamex",
      background_color: "#667eea",
      surface_color: "#ffffff",
      text_color: "#2d3748",
      primary_action_color: "#667eea",
      secondary_action_color: "#e2e8f0"
    };

    let appointmentData = {
      userName: '',
      userAge: 0,
      userDisability: 'ninguna',
      bank: '',
      branch: '',
      date: '',
      time: '',
      service: '',
      serviceIcon: '',
      duration: 0,
      needsHelp: false
    };

    async function onConfigChange(config) {
      const appTitle = config.app_title || defaultConfig.app_title;
      const welcomeMessage = config.welcome_message || defaultConfig.welcome_message;
      const bankName = config.bank_name || defaultConfig.bank_name;
      const backgroundColor = config.background_color || defaultConfig.background_color;
      const surfaceColor = config.surface_color || defaultConfig.surface_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const primaryActionColor = config.primary_action_color || defaultConfig.primary_action_color;
      const secondaryActionColor = config.secondary_action_color || defaultConfig.secondary_action_color;

      document.getElementById('appTitle').textContent = appTitle;
      document.getElementById('welcomeMessage').textContent = welcomeMessage;
      document.getElementById('bankNameDisplay').textContent = bankName;

      document.querySelector('.app-container').style.background = `linear-gradient(135deg, ${backgroundColor} 0%, ${backgroundColor}dd 100%)`;
      
      const screens = document.querySelectorAll('.screen');
      screens.forEach(screen => {
        screen.style.background = surfaceColor;
      });

      const headings = document.querySelectorAll('h1, h2, h3, .summary-value, .service-name, .bank-info h3');
      headings.forEach(heading => {
        heading.style.color = textColor;
      });

      const primaryButtons = document.querySelectorAll('.btn-primary');
      primaryButtons.forEach(btn => {
        btn.style.background = primaryActionColor;
      });

      const secondaryButtons = document.querySelectorAll('.btn-secondary');
      secondaryButtons.forEach(btn => {
        btn.style.background = secondaryActionColor;
      });

      const links = document.querySelectorAll('.link-btn a');
      links.forEach(link => {
        link.style.color = primaryActionColor;
      });

      const inputs = document.querySelectorAll('input[type="text"], input[type="password"], input[type="number"], select');
      inputs.forEach(input => {
        input.addEventListener('focus', function() {
          this.style.borderColor = primaryActionColor;
        });
      });
    }

    let isLoggedIn = false;

    function showScreen(screenId) {
      const screens = document.querySelectorAll('.screen');
      screens.forEach(screen => screen.classList.remove('active'));
      document.getElementById(screenId).classList.add('active');
      window.scrollTo(0, 0);
    }

    function updateNavbar() {
      const navbarButton = document.getElementById('navbarButton');
      if (isLoggedIn) {
        navbarButton.textContent = 'Mi Cuenta';
      } else {
        navbarButton.textContent = 'Iniciar Sesi√≥n';
      }
    }

    function handleNavbarClick() {
      if (isLoggedIn) {
        showScreen('dashboardScreen');
      } else {
        showScreen('landingScreen');
      }
    }

    function handleNavbarButtonClick() {
      if (isLoggedIn) {
        showScreen('dashboardScreen');
      } else {
        showScreen('loginScreen');
      }
    }

    function showLoginPrompt() {
      document.getElementById('loginModal').classList.add('active');
    }

    function closeModal() {
      document.getElementById('loginModal').classList.remove('active');
    }

    function closeModalAndLogin() {
      closeModal();
      showScreen('loginScreen');
    }

    function handleLogin() {
      const username = document.getElementById('loginUsername').value;
      if (username) {
        appointmentData.userName = username;
        document.getElementById('userName').textContent = username;
        document.getElementById('accountName').textContent = username;
        isLoggedIn = true;
        updateNavbar();
        showScreen('dashboardScreen');
      }
    }

    function handleRegister() {
      const name = document.getElementById('regName').value;
      const age = document.getElementById('regAge').value;
      const disability = document.getElementById('regDisability').value;
      
      if (name && age) {
        appointmentData.userName = name;
        appointmentData.userAge = parseInt(age);
        appointmentData.userDisability = disability;
        document.getElementById('userName').textContent = name;
        document.getElementById('accountName').textContent = name;
        document.getElementById('accountAge').textContent = age + ' a√±os';
        isLoggedIn = true;
        updateNavbar();
        showScreen('dashboardScreen');
      }
    }

    function handleLogout() {
      appointmentData = {
        userName: '',
        userAge: 0,
        userDisability: 'ninguna',
        bank: '',
        branch: '',
        date: '',
        time: '',
        service: '',
        serviceIcon: '',
        duration: 0,
        needsHelp: false
      };
      isLoggedIn = false;
      updateNavbar();
      showScreen('landingScreen');
    }

    function startAppointment() {
      appointmentData.bank = 'Banamex';
      
      const today = new Date();
      const tomorrow = new Date(today);
      tomorrow.setDate(tomorrow.getDate() + 1);
      const formattedDate = tomorrow.toLocaleDateString('es-MX', { 
        weekday: 'long', 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric' 
      });
      
      document.getElementById('dateSelect').value = formattedDate;
      appointmentData.date = formattedDate;
      
      showScreen('locationDateScreen');
    }

    function selectService(serviceName, icon, duration) {
      document.querySelectorAll('.service-card').forEach(card => {
        card.classList.remove('selected');
      });
      event.currentTarget.classList.add('selected');
      
      appointmentData.service = serviceName;
      appointmentData.serviceIcon = icon;
      appointmentData.duration = duration;
      
      document.getElementById('estimatedTime').textContent = duration;
      
      setTimeout(() => {
        showScreen('timeScreen');
      }, 300);
    }

    function selectTime(time) {
      document.querySelectorAll('.time-slot').forEach(slot => {
        slot.classList.remove('selected');
      });
      event.currentTarget.classList.add('selected');
      
      appointmentData.time = time;
    }

    function showSummary() {
      const branch = document.getElementById('branchSelect').value;
      const needsDriver = document.getElementById('needsDriver').checked;
      
      if (!branch) {
        alert('Por favor selecciona una sucursal');
        showScreen('locationDateScreen');
        return;
      }
      
      if (!appointmentData.time) {
        alert('Por favor selecciona un horario');
        return;
      }
      
      appointmentData.branch = document.getElementById('branchSelect').options[document.getElementById('branchSelect').selectedIndex].text;
      appointmentData.needsHelp = needsDriver;
      
      document.getElementById('summaryBank').textContent = appointmentData.bank;
      document.getElementById('summaryBranch').textContent = appointmentData.branch;
      document.getElementById('summaryDate').textContent = appointmentData.date;
      document.getElementById('summaryTime').textContent = appointmentData.time;
      document.getElementById('summaryService').textContent = appointmentData.serviceIcon + ' ' + appointmentData.service.charAt(0).toUpperCase() + appointmentData.service.slice(1);
      document.getElementById('summaryDuration').textContent = appointmentData.duration + ' minutos';
      document.getElementById('summaryHelp').textContent = appointmentData.needsHelp ? 'S√≠' : 'No';
      
      showScreen('summaryScreen');
    }

    function confirmAppointment() {
      document.getElementById('confirmDate').textContent = appointmentData.date;
      document.getElementById('confirmTime').textContent = appointmentData.time;
      document.getElementById('confirmBranch').textContent = appointmentData.branch;
      showScreen('successScreen');
    }

    function showDriverScreen() {
      showScreen('driverScreen');
    }

    function confirmDriver() {
      const address = document.getElementById('userAddress').value;
      if (!address) {
        return;
      }
      document.getElementById('driverAddress').textContent = address;
      showScreen('driverConfirmScreen');
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities: (config) => ({
          recolorables: [
            {
              get: () => config.background_color || defaultConfig.background_color,
              set: (value) => {
                window.elementSdk.config.background_color = value;
                window.elementSdk.setConfig({ background_color: value });
              }
            },
            {
              get: () => config.surface_color || defaultConfig.surface_color,
              set: (value) => {
                window.elementSdk.config.surface_color = value;
                window.elementSdk.setConfig({ surface_color: value });
              }
            },
            {
              get: () => config.text_color || defaultConfig.text_color,
              set: (value) => {
                window.elementSdk.config.text_color = value;
                window.elementSdk.setConfig({ text_color: value });
              }
            },
            {
              get: () => config.primary_action_color || defaultConfig.primary_action_color,
              set: (value) => {
                window.elementSdk.config.primary_action_color = value;
                window.elementSdk.setConfig({ primary_action_color: value });
              }
            },
            {
              get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
              set: (value) => {
                window.elementSdk.config.secondary_action_color = value;
                window.elementSdk.setConfig({ secondary_action_color: value });
              }
            }
          ],
          borderables: [],
          fontEditable: undefined,
          fontSizeable: undefined
        }),
        mapToEditPanelValues: (config) => new Map([
          ["app_title", config.app_title || defaultConfig.app_title],
          ["welcome_message", config.welcome_message || defaultConfig.welcome_message],
          ["bank_name", config.bank_name || defaultConfig.bank_name]
        ])
      });
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a84f7b1253f5253',t:'MTc2NDc4NDg2OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>